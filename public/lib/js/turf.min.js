(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.turf = f()}})(function(){var define,module,exports;
var _$helpers_11 = {};
"use strict";function feature(e,r,t){void 0===t&&(t={});var o={type:"Feature"};return(0===t.id||t.id)&&(o.id=t.id),t.bbox&&(o.bbox=t.bbox),o.properties=r||{},o.geometry=e,o}function geometry(e,r,t){switch(void 0===t&&(t={}),e){case"Point":return point(r).geometry;case"LineString":return lineString(r).geometry;case"Polygon":return polygon(r).geometry;case"MultiPoint":return multiPoint(r).geometry;case"MultiLineString":return multiLineString(r).geometry;case"MultiPolygon":return multiPolygon(r).geometry;default:throw new Error(e+" is invalid")}}function point(e,r,t){return void 0===t&&(t={}),feature({type:"Point",coordinates:e},r,t)}function points(e,r,t){return void 0===t&&(t={}),featureCollection(e.map(function(e){return point(e,r)}),t)}function polygon(e,r,t){void 0===t&&(t={});for(var o=0,n=e;o<n.length;o++){var i=n[o];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<i[i.length-1].length;s++)if(i[i.length-1][s]!==i[0][s])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:e},r,t)}function polygons(e,r,t){return void 0===t&&(t={}),featureCollection(e.map(function(e){return polygon(e,r)}),t)}function lineString(e,r,t){if(void 0===t&&(t={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return feature({type:"LineString",coordinates:e},r,t)}function lineStrings(e,r,t){return void 0===t&&(t={}),featureCollection(e.map(function(e){return lineString(e,r)}),t)}function featureCollection(e,r){void 0===r&&(r={});var t={type:"FeatureCollection"};return r.id&&(t.id=r.id),r.bbox&&(t.bbox=r.bbox),t.features=e,t}function multiLineString(e,r,t){return void 0===t&&(t={}),feature({type:"MultiLineString",coordinates:e},r,t)}function multiPoint(e,r,t){return void 0===t&&(t={}),feature({type:"MultiPoint",coordinates:e},r,t)}function multiPolygon(e,r,t){return void 0===t&&(t={}),feature({type:"MultiPolygon",coordinates:e},r,t)}function geometryCollection(e,r,t){return void 0===t&&(t={}),feature({type:"GeometryCollection",geometries:e},r,t)}function round(e,r){if(void 0===r&&(r=0),r&&!(r>=0))throw new Error("precision must be a positive number");var t=Math.pow(10,r||0);return Math.round(e*t)/t}function radiansToLength(e,r){void 0===r&&(r="kilometers");var t=_$helpers_11.factors[r];if(!t)throw new Error(r+" units is invalid");return e*t}function lengthToRadians(e,r){void 0===r&&(r="kilometers");var t=_$helpers_11.factors[r];if(!t)throw new Error(r+" units is invalid");return e/t}function lengthToDegrees(e,r){return radiansToDegrees(lengthToRadians(e,r))}function bearingToAzimuth(e){var r=e%360;return r<0&&(r+=360),r}function radiansToDegrees(e){return 180*(e%(2*Math.PI))/Math.PI}function degreesToRadians(e){return e%360*Math.PI/180}function convertLength(e,r,t){if(void 0===r&&(r="kilometers"),void 0===t&&(t="kilometers"),!(e>=0))throw new Error("length must be a positive number");return radiansToLength(lengthToRadians(e,r),t)}function convertArea(e,r,t){if(void 0===r&&(r="meters"),void 0===t&&(t="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=_$helpers_11.areaFactors[r];if(!o)throw new Error("invalid original units");var n=_$helpers_11.areaFactors[t];if(!n)throw new Error("invalid final units");return e/o*n}function isNumber(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)&&!/^\s*$/.test(e)}function isObject(e){return!!e&&e.constructor===Object}function validateBBox(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!isNumber(e))throw new Error("bbox must only contain numbers")})}function validateId(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}function radians2degrees(){throw new Error("method has been renamed to `radiansToDegrees`")}function degrees2radians(){throw new Error("method has been renamed to `degreesToRadians`")}function distanceToDegrees(){throw new Error("method has been renamed to `lengthToDegrees`")}function distanceToRadians(){throw new Error("method has been renamed to `lengthToRadians`")}function radiansToDistance(){throw new Error("method has been renamed to `radiansToLength`")}function bearingToAngle(){throw new Error("method has been renamed to `bearingToAzimuth`")}function convertDistance(){throw new Error("method has been renamed to `convertLength`")}Object.defineProperty(_$helpers_11,"__esModule",{value:!0}),_$helpers_11.earthRadius=6371008.8,_$helpers_11.factors={centimeters:100*_$helpers_11.earthRadius,centimetres:100*_$helpers_11.earthRadius,degrees:_$helpers_11.earthRadius/111325,feet:3.28084*_$helpers_11.earthRadius,inches:39.37*_$helpers_11.earthRadius,kilometers:_$helpers_11.earthRadius/1e3,kilometres:_$helpers_11.earthRadius/1e3,meters:_$helpers_11.earthRadius,metres:_$helpers_11.earthRadius,miles:_$helpers_11.earthRadius/1609.344,millimeters:1e3*_$helpers_11.earthRadius,millimetres:1e3*_$helpers_11.earthRadius,nauticalmiles:_$helpers_11.earthRadius/1852,radians:1,yards:_$helpers_11.earthRadius/1.0936},/* common-shake removed: exports.unitsFactors = */ {centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/_$helpers_11.earthRadius,yards:1/1.0936},_$helpers_11.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},_$helpers_11.feature=feature,/* common-shake removed: exports.geometry = */ geometry,_$helpers_11.point=point,/* common-shake removed: exports.points = */ points,_$helpers_11.polygon=polygon,/* common-shake removed: exports.polygons = */ polygons,_$helpers_11.lineString=lineString,/* common-shake removed: exports.lineStrings = */ lineStrings,_$helpers_11.featureCollection=featureCollection,_$helpers_11.multiLineString=multiLineString,/* common-shake removed: exports.multiPoint = */ multiPoint,_$helpers_11.multiPolygon=multiPolygon,/* common-shake removed: exports.geometryCollection = */ geometryCollection,/* common-shake removed: exports.round = */ round,_$helpers_11.radiansToLength=radiansToLength,/* common-shake removed: exports.lengthToRadians = */ lengthToRadians,/* common-shake removed: exports.lengthToDegrees = */ lengthToDegrees,/* common-shake removed: exports.bearingToAzimuth = */ bearingToAzimuth,/* common-shake removed: exports.radiansToDegrees = */ radiansToDegrees,_$helpers_11.degreesToRadians=degreesToRadians,_$helpers_11.convertLength=convertLength,/* common-shake removed: exports.convertArea = */ convertArea,_$helpers_11.isNumber=isNumber,_$helpers_11.isObject=isObject,/* common-shake removed: exports.validateBBox = */ validateBBox,/* common-shake removed: exports.validateId = */ validateId,/* common-shake removed: exports.radians2degrees = */ radians2degrees,/* common-shake removed: exports.degrees2radians = */ degrees2radians,/* common-shake removed: exports.distanceToDegrees = */ distanceToDegrees,/* common-shake removed: exports.distanceToRadians = */ distanceToRadians,/* common-shake removed: exports.radiansToDistance = */ radiansToDistance,/* common-shake removed: exports.bearingToAngle = */ bearingToAngle,/* common-shake removed: exports.convertDistance = */ convertDistance;

var _$meta_17 = {};
"use strict";Object.defineProperty(_$meta_17,"__esModule",{value:!0});/* removed: var _$helpers_11=require("@turf/helpers"); */;function coordEach(e,t,r){if(null!==e)for(var n,o,i,a,l,u,c,s,g=0,f=0,h=e.type,p="FeatureCollection"===h,d="Feature"===h,y=p?e.features.length:1,m=0;m<y;m++){l=(s=!!(c=p?e.features[m].geometry:d?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var v=0;v<l;v++){var E=0,P=0;if(null!==(a=s?c.geometries[v]:c)){u=a.coordinates;var w=a.type;switch(g=!r||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(u,f,m,E,P))return!1;f++,E++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===t(u[n],f,m,E,P))return!1;f++,"MultiPoint"===w&&E++}"LineString"===w&&E++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(o=0;o<u[n].length-g;o++){if(!1===t(u[n][o],f,m,E,P))return!1;f++}"MultiLineString"===w&&E++,"Polygon"===w&&P++}"Polygon"===w&&E++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(P=0,o=0;o<u[n].length;o++){for(i=0;i<u[n][o].length-g;i++){if(!1===t(u[n][o][i],f,m,E,P))return!1;f++}P++}E++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===coordEach(a.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function coordReduce(e,t,r,n){var o=r;return coordEach(e,function(e,n,i,a,l){o=0===n&&void 0===r?e:t(o,e,n,i,a,l)},n),o}function propEach(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function propReduce(e,t,r){var n=r;return propEach(e,function(e,o){n=0===o&&void 0===r?e:t(n,e,o)}),n}function featureEach(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function featureReduce(e,t,r){var n=r;return featureEach(e,function(e,o){n=0===o&&void 0===r?e:t(n,e,o)}),n}function coordAll(e){var t=[];return coordEach(e,function(e){t.push(e)}),t}function geomEach(e,t){var r,n,o,i,a,l,u,c,s,g,f=0,h="FeatureCollection"===e.type,p="Feature"===e.type,d=h?e.features.length:1;for(r=0;r<d;r++){for(l=h?e.features[r].geometry:p?e.geometry:e,c=h?e.features[r].properties:p?e.properties:{},s=h?e.features[r].bbox:p?e.bbox:void 0,g=h?e.features[r].id:p?e.id:void 0,a=(u=!!l&&"GeometryCollection"===l.type)?l.geometries.length:1,o=0;o<a;o++)if(null!==(i=u?l.geometries[o]:l))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,f,c,s,g))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],f,c,s,g))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,c,s,g))return!1;f++}}function geomReduce(e,t,r){var n=r;return geomEach(e,function(e,o,i,a,l){n=0===o&&void 0===r?e:t(n,e,o,i,a,l)}),n}function flattenEach(e,t){geomEach(e,function(e,r,n,o,i){var a,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t(_$helpers_11.feature(e,n,{bbox:o,id:i}),r,0)&&void 0}switch(l){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c={type:a,coordinates:e.coordinates[u]};if(!1===t(_$helpers_11.feature(c,n),r,u))return!1}})}function flattenReduce(e,t,r){var n=r;return flattenEach(e,function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)}),n}function segmentEach(e,t){flattenEach(e,function(e,r,n){var o=0;if(e.geometry){var i=e.geometry.type;if("Point"!==i&&"MultiPoint"!==i){var a,l=0,u=0,c=0;return!1!==coordEach(e,function(i,s,g,f,h){if(void 0===a||r>l||f>u||h>c)return a=i,l=r,u=f,c=h,void(o=0);var p=_$helpers_11.lineString([a,i],e.properties);if(!1===t(p,r,n,h,o))return!1;o++,a=i})&&void 0}}})}function segmentReduce(e,t,r){var n=r,o=!1;return segmentEach(e,function(e,i,a,l,u){n=!1===o&&void 0===r?e:t(n,e,i,a,l,u),o=!0}),n}function lineEach(e,t){if(!e)throw new Error("geojson is required");flattenEach(e,function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,i=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var a=0;a<i.length;a++)if(!1===t(_$helpers_11.lineString(i[a],e.properties),r,n,a))return!1}}})}function lineReduce(e,t,r){var n=r;return lineEach(e,function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)}),n}function findSegment(e,t){if(t=t||{},!_$helpers_11.isObject(t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.segmentIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),l=l||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":l=l||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=u.length+a-1),_$helpers_11.lineString([u[a],u[a+1]],l,t);case"Polygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a-1),_$helpers_11.lineString([u[i][a],u[i][a+1]],l,t);case"MultiLineString":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a-1),_$helpers_11.lineString([u[o][a],u[o][a+1]],l,t);case"MultiPolygon":return o<0&&(o=u.length+o),i<0&&(i=u[o].length+i),a<0&&(a=u[o][i].length-a-1),_$helpers_11.lineString([u[o][i][a],u[o][i][a+1]],l,t)}throw new Error("geojson is invalid")}function findPoint(e,t){if(t=t||{},!_$helpers_11.isObject(t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.coordIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),l=l||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":l=l||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":return _$helpers_11.point(u,l,t);case"MultiPoint":return o<0&&(o=u.length+o),_$helpers_11.point(u[o],l,t);case"LineString":return a<0&&(a=u.length+a),_$helpers_11.point(u[a],l,t);case"Polygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),_$helpers_11.point(u[i][a],l,t);case"MultiLineString":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a),_$helpers_11.point(u[o][a],l,t);case"MultiPolygon":return o<0&&(o=u.length+o),i<0&&(i=u[o].length+i),a<0&&(a=u[o][i].length-a),_$helpers_11.point(u[o][i][a],l,t)}throw new Error("geojson is invalid")}_$meta_17.coordEach=coordEach,/* common-shake removed: exports.coordReduce = */ coordReduce,/* common-shake removed: exports.propEach = */ propEach,/* common-shake removed: exports.propReduce = */ propReduce,_$meta_17.featureEach=featureEach,/* common-shake removed: exports.featureReduce = */ featureReduce,/* common-shake removed: exports.coordAll = */ coordAll,/* common-shake removed: exports.geomEach = */ geomEach,_$meta_17.geomReduce=geomReduce,_$meta_17.flattenEach=flattenEach,/* common-shake removed: exports.flattenReduce = */ flattenReduce,_$meta_17.segmentEach=segmentEach,_$meta_17.segmentReduce=segmentReduce,/* common-shake removed: exports.lineEach = */ lineEach,/* common-shake removed: exports.lineReduce = */ lineReduce,/* common-shake removed: exports.findSegment = */ findSegment,/* common-shake removed: exports.findPoint = */ findPoint;

var _$area_2 = {};
"use strict";Object.defineProperty(_$area_2,"__esModule",{value:!0});var RADIUS=6378137;function area(e){return _$meta_17.geomReduce(e,function(e,r){return e+calculateArea(r)},0)}function calculateArea(e){var r,t=0;switch(e.type){case"Polygon":return polygonArea(e.coordinates);case"MultiPolygon":for(r=0;r<e.coordinates.length;r++)t+=polygonArea(e.coordinates[r]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function polygonArea(e){var r=0;if(e&&e.length>0){r+=Math.abs(ringArea(e[0]));for(var t=1;t<e.length;t++)r-=Math.abs(ringArea(e[t]))}return r}function ringArea(e){var r,t,a,n,o,i,u=0,c=e.length;if(c>2){for(i=0;i<c;i++)i===c-2?(a=c-2,n=c-1,o=0):i===c-1?(a=c-1,n=0,o=1):(a=i,n=i+1,o=i+2),r=e[a],t=e[n],u+=(rad(e[o][0])-rad(r[0]))*Math.sin(rad(t[1]));u=u*RADIUS*RADIUS/2}return u}function rad(e){return e*Math.PI/180}_$area_2.default=area;

var _$bbox_3 = {};
"use strict";Object.defineProperty(_$bbox_3,"__esModule",{value:!0});/* removed: var _$meta_17=require("@turf/meta"); */;function bbox(e){var t=[1/0,1/0,-1/0,-1/0];return _$meta_17.coordEach(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}_$bbox_3.default=bbox;

var _$invariant_13 = {};
"use strict";Object.defineProperty(_$invariant_13,"__esModule",{value:!0});/* removed: var _$helpers_11=require("@turf/helpers"); */;function getCoord(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function getCoords(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function containsNumber(e){if(e.length>1&&_$helpers_11.isNumber(e[0])&&_$helpers_11.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return containsNumber(e[0]);throw new Error("coordinates must only contain numbers")}function geojsonType(e,r,t){if(!r||!t)throw new Error("type and name required");if(!e||e.type!==r)throw new Error("Invalid input to "+t+": must be a "+r+", given "+e.type)}function featureOf(e,r,t){if(!e)throw new Error("No feature passed");if(!t)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!e.geometry||e.geometry.type!==r)throw new Error("Invalid input to "+t+": must be a "+r+", given "+e.geometry.type)}function collectionOf(e,r,t){if(!e)throw new Error("No featureCollection passed");if(!t)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+t+", FeatureCollection required");for(var o=0,n=e.features;o<n.length;o++){var i=n[o];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!i.geometry||i.geometry.type!==r)throw new Error("Invalid input to "+t+": must be a "+r+", given "+i.geometry.type)}}function getGeom(e){return"Feature"===e.type?e.geometry:e}function getType(e,r){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}_$invariant_13.getCoord=getCoord,_$invariant_13.getCoords=getCoords,/* common-shake removed: exports.containsNumber = */ containsNumber,/* common-shake removed: exports.geojsonType = */ geojsonType,_$invariant_13.featureOf=featureOf,/* common-shake removed: exports.collectionOf = */ collectionOf,_$invariant_13.getGeom=getGeom,_$invariant_13.getType=getType;

var _$booleanPointInPolygon_6 = {};
"use strict";Object.defineProperty(_$booleanPointInPolygon_6,"__esModule",{value:!0});/* removed: var _$invariant_13=require("@turf/invariant"); */;function booleanPointInPolygon(n,r,o){if(void 0===o&&(o={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var e=_$invariant_13.getCoord(n),i=_$invariant_13.getGeom(r),t=i.type,a=r.bbox,g=i.coordinates;if(a&&!1===inBBox(e,a))return!1;"Polygon"===t&&(g=[g]);for(var u=!1,l=0;l<g.length&&!u;l++)if(inRing(e,g[l][0],o.ignoreBoundary)){for(var f=!1,v=1;v<g[l].length&&!f;)inRing(e,g[l][v],!o.ignoreBoundary)&&(f=!0),v++;f||(u=!0)}return u}function inRing(n,r,o){var e=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var i=0,t=r.length-1;i<r.length;t=i++){var a=r[i][0],g=r[i][1],u=r[t][0],l=r[t][1];if(n[1]*(a-u)+g*(u-n[0])+l*(n[0]-a)==0&&(a-n[0])*(u-n[0])<=0&&(g-n[1])*(l-n[1])<=0)return!o;g>n[1]!=l>n[1]&&n[0]<(u-a)*(n[1]-g)/(l-g)+a&&(e=!e)}return e}function inBBox(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}_$booleanPointInPolygon_6.default=booleanPointInPolygon;

var _$booleanPointOnLine_7 = {};
"use strict";Object.defineProperty(_$booleanPointOnLine_7,"__esModule",{value:!0});/* removed: var _$invariant_13=require("@turf/invariant"); */;function booleanPointOnLine(t,n,e){void 0===e&&(e={});for(var a=_$invariant_13.getCoord(t),r=_$invariant_13.getCoords(n),i=0;i<r.length-1;i++){var o=!1;if(e.ignoreEndVertices&&(0===i&&(o="start"),i===r.length-2&&(o="end"),0===i&&i+1===r.length-1&&(o="both")),isPointOnLineSegment(r[i],r[i+1],a,o))return!0}return!1}function isPointOnLineSegment(t,n,e,a){var r=e[0],i=e[1],o=t[0],s=t[1],b=n[0],h=n[1],u=b-o,v=h-s;return 0==(e[0]-o)*v-(e[1]-s)*u&&(a?"start"===a?Math.abs(u)>=Math.abs(v)?u>0?o<r&&r<=b:b<=r&&r<o:v>0?s<i&&i<=h:h<=i&&i<s:"end"===a?Math.abs(u)>=Math.abs(v)?u>0?o<=r&&r<b:b<r&&r<=o:v>0?s<=i&&i<h:h<i&&i<=s:"both"===a&&(Math.abs(u)>=Math.abs(v)?u>0?o<r&&r<b:b<r&&r<o:v>0?s<i&&i<h:h<i&&i<s):Math.abs(u)>=Math.abs(v)?u>0?o<=r&&r<=b:b<=r&&r<=o:v>0?s<=i&&i<=h:h<=i&&i<=s)}_$booleanPointOnLine_7.default=booleanPointOnLine;

var _$booleanWithin_8 = {};
"use strict";Object.defineProperty(_$booleanWithin_8,"__esModule",{value:!0});/* removed: var _$invariant_13=require("@turf/invariant"); */;function booleanWithin(o,n){var e=_$invariant_13.getType(o),t=_$invariant_13.getType(n),r=_$invariant_13.getGeom(o),i=_$invariant_13.getGeom(n);switch(e){case"Point":switch(t){case"MultiPoint":return isPointInMultiPoint(r,i);case"LineString":return _$booleanPointOnLine_7.default(r,i,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return _$booleanPointInPolygon_6.default(r,i,{ignoreBoundary:!0});default:throw new Error("feature2 "+t+" geometry not supported")}case"MultiPoint":switch(t){case"MultiPoint":return isMultiPointInMultiPoint(r,i);case"LineString":return isMultiPointOnLine(r,i);case"Polygon":case"MultiPolygon":return isMultiPointInPoly(r,i);default:throw new Error("feature2 "+t+" geometry not supported")}case"LineString":switch(t){case"LineString":return isLineOnLine(r,i);case"Polygon":case"MultiPolygon":return isLineInPoly(r,i);default:throw new Error("feature2 "+t+" geometry not supported")}case"Polygon":switch(t){case"Polygon":case"MultiPolygon":return isPolyInPoly(r,i);default:throw new Error("feature2 "+t+" geometry not supported")}default:throw new Error("feature1 "+e+" geometry not supported")}}function isPointInMultiPoint(o,n){var e,t=!1;for(e=0;e<n.coordinates.length;e++)if(compareCoords(n.coordinates[e],o.coordinates)){t=!0;break}return t}function isMultiPointInMultiPoint(o,n){for(var e=0;e<o.coordinates.length;e++){for(var t=!1,r=0;r<n.coordinates.length;r++)compareCoords(o.coordinates[e],n.coordinates[r])&&(t=!0);if(!t)return!1}return!0}function isMultiPointOnLine(o,n){for(var e=!1,t=0;t<o.coordinates.length;t++){if(!_$booleanPointOnLine_7.default(o.coordinates[t],n))return!1;e||(e=_$booleanPointOnLine_7.default(o.coordinates[t],n,{ignoreEndVertices:!0}))}return e}function isMultiPointInPoly(o,n){for(var e=!0,t=0;t<o.coordinates.length;t++){var r=_$booleanPointInPolygon_6.default(o.coordinates[1],n);if(!r){e=!1;break}r=_$booleanPointInPolygon_6.default(o.coordinates[1],n,{ignoreBoundary:!0})}return e&&r}function isLineOnLine(o,n){for(var e=0;e<o.coordinates.length;e++)if(!_$booleanPointOnLine_7.default(o.coordinates[e],n))return!1;return!0}function isLineInPoly(o,n){if(!doBBoxOverlap(_$bbox_3.default(n),_$bbox_3.default(o)))return!1;for(var e=!1,t=0;t<o.coordinates.length-1;t++){if(!_$booleanPointInPolygon_6.default(o.coordinates[t],n))return!1;if(e||(e=_$booleanPointInPolygon_6.default(o.coordinates[t],n,{ignoreBoundary:!0})),!e){var r=getMidpoint(o.coordinates[t],o.coordinates[t+1]);e=_$booleanPointInPolygon_6.default(r,n,{ignoreBoundary:!0})}}return e}function isPolyInPoly(o,n){var e=_$bbox_3.default(o);if(!doBBoxOverlap(_$bbox_3.default(n),e))return!1;for(var t=0;t<o.coordinates[0].length;t++)if(!_$booleanPointInPolygon_6.default(o.coordinates[0][t],n))return!1;return!0}function doBBoxOverlap(o,n){return!(o[0]>n[0])&&(!(o[2]<n[2])&&(!(o[1]>n[1])&&!(o[3]<n[3])))}function compareCoords(o,n){return o[0]===n[0]&&o[1]===n[1]}function getMidpoint(o,n){return[(o[0]+n[0])/2,(o[1]+n[1])/2]}_$booleanWithin_8.default=booleanWithin;

var _$martinezUmd_24 = { exports: {} };
!function(t,e){"object"==typeof _$martinezUmd_24.exports&&"undefined"!="object"?e(_$martinezUmd_24.exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.martinez={})}(this,function(t){"use strict";function e(t,e){return t>e?1:t<e?-1:0}var r=function(t,r){void 0===t&&(t=e),void 0===r&&(r=!1),this._compare=t,this._root=null,this._size=0,this._noDuplicates=!!r},n={size:{configurable:!0}};r.prototype.rotateLeft=function(t){var e=t.right;e&&(t.right=e.left,e.left&&(e.left.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.left=t),t.parent=e},r.prototype.rotateRight=function(t){var e=t.left;e&&(t.left=e.right,e.right&&(e.right.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.right=t),t.parent=e},r.prototype._splay=function(t){for(;t.parent;){var e=t.parent;e.parent?e.left===t&&e.parent.left===e?(this.rotateRight(e.parent),this.rotateRight(e)):e.right===t&&e.parent.right===e?(this.rotateLeft(e.parent),this.rotateLeft(e)):e.left===t&&e.parent.right===e?(this.rotateRight(e),this.rotateLeft(e)):(this.rotateLeft(e),this.rotateRight(e)):e.left===t?this.rotateRight(e):this.rotateLeft(e)}},r.prototype.splay=function(t){for(var e,r,n,i,o;t.parent;)(r=(e=t.parent).parent)&&r.parent?((n=r.parent).left===r?n.left=t:n.right=t,t.parent=n):(t.parent=null,this._root=t),i=t.left,o=t.right,t===e.left?(r&&(r.left===e?(e.right?(r.left=e.right,r.left.parent=r):r.left=null,e.right=r,r.parent=e):(i?(r.right=i,i.parent=r):r.right=null,t.left=r,r.parent=t)),o?(e.left=o,o.parent=e):e.left=null,t.right=e,e.parent=t):(r&&(r.right===e?(e.left?(r.right=e.left,r.right.parent=r):r.right=null,e.left=r,r.parent=e):(o?(r.left=o,o.parent=r):r.left=null,t.right=r,r.parent=t)),i?(e.right=i,i.parent=e):e.right=null,t.left=e,e.parent=t)},r.prototype.replace=function(t,e){t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.parent=t.parent)},r.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},r.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},r.prototype.insert=function(t,e){var r=this._root,n=null,i=this._compare;if(this._noDuplicates)for(;r;){if(n=r,0===i(r.key,t))return;r=i(r.key,t)<0?r.right:r.left}else for(;r;)n=r,r=i(r.key,t)<0?r.right:r.left;return r={key:t,data:e,left:null,right:null,parent:n},n?i(n.key,r.key)<0?n.right=r:n.left=r:this._root=r,this.splay(r),this._size++,r},r.prototype.find=function(t){for(var e=this._root,r=this._compare;e;){var n=r(e.key,t);if(n<0)e=e.right;else{if(!(n>0))return e;e=e.left}}return null},r.prototype.contains=function(t){for(var e=this._root,r=this._compare;e;){var n=r(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right}return!1},r.prototype.remove=function(t){var e=this.find(t);if(!e)return!1;if(this.splay(e),e.left)if(e.right){var r=this.minNode(e.right);r.parent!==e&&(this.replace(r,r.right),r.right=e.right,r.right.parent=r),this.replace(e,r),r.left=e.left,r.left.parent=r}else this.replace(e,e.left);else this.replace(e,e.right);return this._size--,!0},r.prototype.removeNode=function(t){if(!t)return!1;if(this.splay(t),t.left)if(t.right){var e=this.minNode(t.right);e.parent!==t&&(this.replace(e,e.right),e.right=t.right,e.right.parent=e),this.replace(t,e),e.left=t.left,e.left.parent=e}else this.replace(t,t.left);else this.replace(t,t.right);return this._size--,!0},r.prototype.erase=function(t){var e=this.find(t);if(e){this.splay(e);var r=e.left,n=e.right,i=null;r&&(r.parent=null,i=this.maxNode(r),this.splay(i),this._root=i),n&&(r?i.right=n:this._root=n,n.parent=i),this._size--}},r.prototype.pop=function(){var t=this._root,e=null;if(t){for(;t.left;)t=t.left;e={key:t.key,data:t.data},this.remove(t.key)}return e},r.prototype.next=function(t){var e=t;if(e)if(e.right)for(e=e.right;e&&e.left;)e=e.left;else for(e=t.parent;e&&e.right===t;)t=e,e=e.parent;return e},r.prototype.prev=function(t){var e=t;if(e)if(e.left)for(e=e.left;e&&e.right;)e=e.right;else for(e=t.parent;e&&e.left===t;)t=e,e=e.parent;return e},r.prototype.forEach=function(t){for(var e=this._root,r=[],n=!1,i=0;!n;)e?(r.push(e),e=e.left):r.length>0?(t(e=r.pop(),i++),e=e.right):n=!0;return this},r.prototype.range=function(t,e,r,n){for(var i=[],o=this._compare,h=this._root;0!==i.length||h;)if(h)i.push(h),h=h.left;else{if(o((h=i.pop()).key,e)>0)break;if(o(h.key,t)>=0&&r.call(n,h))return this;h=h.right}return this},r.prototype.keys=function(){for(var t=this._root,e=[],r=[],n=!1;!n;)t?(e.push(t),t=t.left):e.length>0?(t=e.pop(),r.push(t.key),t=t.right):n=!0;return r},r.prototype.values=function(){for(var t=this._root,e=[],r=[],n=!1;!n;)t?(e.push(t),t=t.left):e.length>0?(t=e.pop(),r.push(t.data),t=t.right):n=!0;return r},r.prototype.at=function(t){for(var e=this._root,r=[],n=!1,i=0;!n;)if(e)r.push(e),e=e.left;else if(r.length>0){if(e=r.pop(),i===t)return e;i++,e=e.right}else n=!0;return null},r.prototype.load=function(t,e,r){if(void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===r&&(r=!1),0!==this._size)throw new Error("bulk-load: tree is not empty");var n=t.length;return r&&function t(e,r,n,i,o){if(n>=i)return;var h=e[n+i>>1];var u=n-1;var p=i+1;for(;;){do{u++}while(o(e[u],h)<0);do{p--}while(o(e[p],h)>0);if(u>=p)break;var l=e[u];e[u]=e[p],e[p]=l,l=r[u],r[u]=r[p],r[p]=l}t(e,r,n,p,o);t(e,r,p+1,i,o)}(t,e,0,n-1,this._compare),this._root=function t(e,r,n,i,o){var h=o-i;if(h>0){var u=i+Math.floor(h/2),p=r[u],l=n[u],s={key:p,data:l,parent:e};return s.left=t(s,r,n,i,u),s.right=t(s,r,n,u+1,o),s}return null}(null,t,e,0,n),this._size=n,this},r.prototype.min=function(){var t=this.minNode(this._root);return t?t.key:null},r.prototype.max=function(){var t=this.maxNode(this._root);return t?t.key:null},r.prototype.isEmpty=function(){return null===this._root},n.size.get=function(){return this._size},r.createTree=function(t,e,n,i,o){return new r(n,o).load(t,e,i)},Object.defineProperties(r.prototype,n);var i=0,o=1,h=2,u=3,p=0,l=1,s=2,f=3;function a(t,e,r){null===e?(t.inOut=!1,t.otherInOut=!0):(t.isSubject===e.isSubject?(t.inOut=!e.inOut,t.otherInOut=e.otherInOut):(t.inOut=!e.otherInOut,t.otherInOut=e.isVertical()?!e.inOut:e.inOut),e&&(t.prevInResult=!c(e,r)||e.isVertical()?e.prevInResult:e)),t.inResult=c(t,r)}function c(t,e){switch(t.type){case i:switch(e){case p:return!t.otherInOut;case l:return t.otherInOut;case s:return t.isSubject&&t.otherInOut||!t.isSubject&&!t.otherInOut;case f:return!0}break;case h:return e===p||e===l;case u:return e===s;case o:return!1}return!1}var v=function(t,e,r,n,o){this.left=e,this.point=t,this.otherEvent=r,this.isSubject=n,this.type=o||i,this.inOut=!1,this.otherInOut=!1,this.prevInResult=null,this.inResult=!1,this.resultInOut=!1,this.isExteriorRing=!0};function g(t,e){return t[0]===e[0]&&t[1]===e[1]}function y(t,e,r){return(t[0]-r[0])*(e[1]-r[1])-(e[0]-r[0])*(t[1]-r[1])}function d(t,e){var r=t.point,n=e.point;return r[0]>n[0]?1:r[0]<n[0]?-1:r[1]!==n[1]?r[1]>n[1]?1:-1:function(t,e,r,n){if(t.left!==e.left)return t.left?1:-1;if(0!==y(r,t.otherEvent.point,e.otherEvent.point))return t.isBelow(e.otherEvent.point)?-1:1;return!t.isSubject&&e.isSubject?1:-1}(t,e,r)}function E(t,e,r){var n=new v(e,!1,t,t.isSubject),i=new v(e,!0,t.otherEvent,t.isSubject);return g(t.point,t.otherEvent.point)&&console.warn("what is that, a collapsed segment?",t),n.contourId=i.contourId=t.contourId,d(i,t.otherEvent)>0&&(t.otherEvent.left=!0,i.left=!1),t.otherEvent.otherEvent=i,t.otherEvent=n,r.push(i),r.push(n),r}function _(t,e){return t[0]*e[1]-t[1]*e[0]}function m(t,e){return t[0]*e[0]+t[1]*e[1]}function I(t,e,r){var n=function(t,e,r,n,i){var o=[e[0]-t[0],e[1]-t[1]],h=[n[0]-r[0],n[1]-r[1]];function u(t,e,r){return[t[0]+e*r[0],t[1]+e*r[1]]}var p=[r[0]-t[0],r[1]-t[1]],l=_(o,h),s=l*l,f=m(o,o);if(s>0){var a=_(p,h)/l;if(a<0||a>1)return null;var c=_(p,o)/l;return c<0||c>1?null:0===a||1===a?i?null:[u(t,a,o)]:0===c||1===c?i?null:[u(r,c,h)]:[u(t,a,o)]}if((s=(l=_(p,o))*l)>0)return null;var v=m(o,p)/f,g=v+m(o,h)/f,y=Math.min(v,g),d=Math.max(v,g);return y<=1&&d>=0?1===y?i?null:[u(t,y>0?y:0,o)]:0===d?i?null:[u(t,d<1?d:1,o)]:i&&0===y&&1===d?null:[u(t,y>0?y:0,o),u(t,d<1?d:1,o)]:null}(t.point,t.otherEvent.point,e.point,e.otherEvent.point),i=n?n.length:0;if(0===i)return 0;if(1===i&&(g(t.point,e.point)||g(t.otherEvent.point,e.otherEvent.point)))return 0;if(2===i&&t.isSubject===e.isSubject)return 0;if(1===i)return g(t.point,n[0])||g(t.otherEvent.point,n[0])||E(t,n[0],r),g(e.point,n[0])||g(e.otherEvent.point,n[0])||E(e,n[0],r),1;var p=[],l=!1,s=!1;return g(t.point,e.point)?l=!0:1===d(t,e)?p.push(e,t):p.push(t,e),g(t.otherEvent.point,e.otherEvent.point)?s=!0:1===d(t.otherEvent,e.otherEvent)?p.push(e.otherEvent,t.otherEvent):p.push(t.otherEvent,e.otherEvent),l&&s||l?(e.type=o,t.type=e.inOut===t.inOut?h:u,l&&!s&&E(p[1].otherEvent,p[0].point,r),2):s?(E(p[0],p[1].point,r),3):p[0]!==p[3].otherEvent?(E(p[0],p[1].point,r),E(p[1],p[2].point,r),3):(E(p[0],p[1].point,r),E(p[3].otherEvent,p[2].point,r),3)}function k(t,e){if(t===e)return 0;if(0!==y(t.point,t.otherEvent.point,e.point)||0!==y(t.point,t.otherEvent.point,e.otherEvent.point))return g(t.point,e.point)?t.isBelow(e.otherEvent.point)?-1:1:t.point[0]===e.point[0]?t.point[1]<e.point[1]?-1:1:1===d(t,e)?e.isAbove(t.point)?-1:1:t.isBelow(e.point)?-1:1;if(t.isSubject!==e.isSubject)return t.isSubject?-1:1;var r=t.point,n=e.point;return r[0]===n[0]&&r[1]===n[1]?(r=t.otherEvent.point,n=e.otherEvent.point,r[0]===n[0]&&r[1]===n[1]?0:t.contourId>e.contourId?1:-1):1===d(t,e)?1:-1}function b(t,e,r,n){var i=t+1,o=e.length;if(i>o-1)return t-1;for(var h=e[t].point,u=e[i].point;i<o&&u[0]===h[0]&&u[1]===h[1];){if(!r[i])return i;u=e[++i].point}for(i=t-1;r[i]&&i>=n;)i--;return i}function O(t,e){var r,n,i,o=function(t){var e,r,n,i,o=[];for(r=0,n=t.length;r<n;r++)((e=t[r]).left&&e.inResult||!e.left&&e.otherEvent.inResult)&&o.push(e);for(var h=!1;!h;)for(h=!0,r=0,n=o.length;r<n;r++)r+1<n&&1===d(o[r],o[r+1])&&(i=o[r],o[r]=o[r+1],o[r+1]=i,h=!1);for(r=0,n=o.length;r<n;r++)(e=o[r]).pos=r;for(r=0,n=o.length;r<n;r++)(e=o[r]).left||(i=e.pos,e.pos=e.otherEvent.pos,e.otherEvent.pos=i);return o}(t),h={},u=[];for(r=0,n=o.length;r<n;r++)if(!h[r]){var p=[[]];o[r].isExteriorRing?e===s&&!o[r].isSubject&&u.length>1?u[u.length-1].push(p[0]):u.push(p):e!==s||o[r].isSubject||0!==u.length?0===u.length?u.push([[p]]):u[u.length-1].push(p[0]):u.push(p);var l=u.length-1,f=r,a=o[r].point;for(p[0].push(a);f>=r;)i=o[f],h[f]=!0,i.left?(i.resultInOut=!1,i.contourId=l):(i.otherEvent.resultInOut=!0,i.otherEvent.contourId=l),h[f=i.pos]=!0,p[0].push(o[f].point),f=b(f,o,h,r);i=o[f=-1===f?r:f],h[f]=h[i.pos]=!0,i.otherEvent.resultInOut=!0,i.otherEvent.contourId=l}return u}v.prototype.isBelow=function(t){var e=this.point,r=this.otherEvent.point;return this.left?(e[0]-t[0])*(r[1]-t[1])-(r[0]-t[0])*(e[1]-t[1])>0:(r[0]-t[0])*(e[1]-t[1])-(e[0]-t[0])*(r[1]-t[1])>0},v.prototype.isAbove=function(t){return!this.isBelow(t)},v.prototype.isVertical=function(){return this.point[0]===this.otherEvent.point[0]},v.prototype.clone=function(){var t=new v(this.point,this.left,this.otherEvent,this.isSubject,this.type);return t.inResult=this.inResult,t.prevInResult=this.prevInResult,t.isExteriorRing=this.isExteriorRing,t.inOut=this.inOut,t.otherInOut=this.otherInOut,t};var R=j,w=j;function j(t,e){if(!(this instanceof j))return new j(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||x,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}function x(t,e){return t<e?-1:t>e?1:0}j.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,r=this.compare,n=e[t];t>0;){var i=t-1>>1,o=e[i];if(r(n,o)>=0)break;e[t]=o,t=i}e[t]=n},_down:function(t){for(var e=this.data,r=this.compare,n=this.length>>1,i=e[t];t<n;){var o=1+(t<<1),h=o+1,u=e[o];if(h<this.length&&r(e[h],u)<0&&(o=h,u=e[h]),r(u,i)>=0)break;e[t]=u,t=o}e[t]=i}},R.default=w;var S=Math.max,N=Math.min,z=0;function M(t,e,r,n,i,o){var h,u,p,l,s,f;for(h=0,u=t.length-1;h<u;h++)if(p=t[h],l=t[h+1],s=new v(p,!1,void 0,e),f=new v(l,!1,s,e),s.otherEvent=f,p[0]!==l[0]||p[1]!==l[1]){s.contourId=f.contourId=r,o||(s.isExteriorRing=!1,f.isExteriorRing=!1),d(s,f)>0?f.left=!0:s.left=!0;var a=p[0],c=p[1];i[0]=N(i[0],a),i[1]=N(i[1],c),i[2]=S(i[2],a),i[3]=S(i[3],c),n.push(s),n.push(f)}}var L=[];function B(t,e,n){"number"==typeof t[0][0][0]&&(t=[t]),"number"==typeof e[0][0][0]&&(e=[e]);var i=function(t,e,r){var n=null;return t.length*e.length==0&&(r===p?n=L:r===s?n=t:r!==l&&r!==f||(n=0===t.length?e:t)),n}(t,e,n);if(i)return i===L?null:i;var o=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],u=function(t,e,r,n,i){var o,h,u,p,l,f,a=new R(null,d);for(u=0,p=t.length;u<p;u++)for(l=0,f=(o=t[u]).length;l<f;l++)(h=0===l)&&z++,M(o[l],!0,z,a,r,h);for(u=0,p=e.length;u<p;u++)for(l=0,f=(o=e[u]).length;l<f;l++)h=0===l,i===s&&(h=!1),h&&z++,M(o[l],!1,z,a,n,h);return a}(t,e,o,h,n);return(i=function(t,e,r,n,i){var o=null;return(r[0]>n[2]||n[0]>r[2]||r[1]>n[3]||n[1]>r[3])&&(i===p?o=L:i===s?o=t:i!==l&&i!==f||(o=t.concat(e))),o}(t,e,o,h,n))?i===L?null:i:O(function(t,e,n,i,o,h){for(var u,l,f,c=new r(k),v=[],g=Math.min(i[2],o[2]);0!==t.length;){var y=t.pop();if(v.push(y),h===p&&y.point[0]>g||h===s&&y.point[0]>i[2])break;if(y.left){l=u=c.insert(y),u=u!==(f=c.minNode())?c.prev(u):null,l=c.next(l);var d=u?u.key:null;if(a(y,d,h),l&&2===I(y,l.key,t)&&(a(y,d,h),a(y,l.key,h)),u&&2===I(u.key,y,t)){var E=u;a(d,(E=E!==f?c.prev(E):null)?E.key:null,h),a(y,d,h)}}else y=y.otherEvent,l=u=c.find(y),u&&l&&(u=u!==f?c.prev(u):null,l=c.next(l),c.remove(y),l&&u&&I(u.key,l.key,t))}return v}(u,0,0,o,h,n),n)}var D={UNION:l,DIFFERENCE:s,INTERSECTION:p,XOR:f};t.union=function(t,e){return B(t,e,l)},t.diff=function(t,e){return B(t,e,s)},t.xor=function(t,e){return B(t,e,f)},t.intersection=function(t,e){return B(t,e,p)},t.operations=D,Object.defineProperty(t,"__esModule",{value:!0})});

_$martinezUmd_24 = _$martinezUmd_24.exports
"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var __area_9=_interopDefault(_$area_2);function difference(e,r){var t=_$invariant_13.getGeom(e),n=_$invariant_13.getGeom(r),o=e.properties||{};if(t=removeEmptyPolygon(t),n=removeEmptyPolygon(n),!t)return null;if(!n)return _$helpers_11.feature(t,o);var i=_$martinezUmd_24.diff(t.coordinates,n.coordinates);return 0===i.length?null:1===i.length?_$helpers_11.polygon(i[0],o):_$helpers_11.multiPolygon(i,o)}function removeEmptyPolygon(e){switch(e.type){case"Polygon":return __area_9(e)>1?e:null;case"MultiPolygon":var r=[];if(_$meta_17.flattenEach(e,function(e){__area_9(e)>1&&r.push(e.geometry.coordinates)}),r.length)return{type:"MultiPolygon",coordinates:r}}}var _$difference_9=difference;

var _$distance_10 = {};
"use strict";Object.defineProperty(_$distance_10,"__esModule",{value:!0});/* removed: var _$helpers_11=require("@turf/helpers"); */;function distance(e,a,r){void 0===r&&(r={});var t=_$invariant_13.getCoord(e),s=_$invariant_13.getCoord(a),i=_$helpers_11.degreesToRadians(s[1]-t[1]),n=_$helpers_11.degreesToRadians(s[0]-t[0]),o=_$helpers_11.degreesToRadians(t[1]),d=_$helpers_11.degreesToRadians(s[1]),h=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(n/2),2)*Math.cos(o)*Math.cos(d);return _$helpers_11.radiansToLength(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),r.units)}_$distance_10.default=distance;

var _$intersect_12 = {};
"use strict";var __importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r};Object.defineProperty(_$intersect_12,"__esModule",{value:!0});var __martinez_12=__importStar(_$martinezUmd_24);function intersect(e,r,t){void 0===t&&(t={});var n=_$invariant_13.getGeom(e),o=_$invariant_13.getGeom(r);if("Polygon"===n.type&&"Polygon"===o.type){var i=__martinez_12.intersection(n.coordinates,o.coordinates);if(null===i||0===i.length)return null;if(1===i.length){var l=i[0][0][0],a=i[0][0][i[0][0].length-1];return l[0]===a[0]&&l[1]===a[1]?_$helpers_11.polygon(i[0],t.properties):null}return _$helpers_11.multiPolygon(i,t.properties)}if("MultiPolygon"===n.type){for(var p=[],s=0,u=n.coordinates;s<u.length;s++){var g=u[s],y=intersect(_$invariant_13.getGeom(_$helpers_11.polygon(g)),o);if(y){var _=_$invariant_13.getGeom(y);if("Polygon"===_.type)p.push(_.coordinates);else{if("MultiPolygon"!==_.type)throw new Error("intersection is invalid");p=p.concat(_.coordinates)}}}return 0===p.length?null:1===p.length?_$helpers_11.polygon(p[0],t.properties):_$helpers_11.multiPolygon(p,t.properties)}if("MultiPolygon"===o.type)return intersect(o,n);throw new Error("poly1 and poly2 must be either polygons or multiPolygons")}_$intersect_12.default=intersect;

var _$length_14 = {};
"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_$length_14,"__esModule",{value:!0});var distance_1=__importDefault(_$distance_10);function length(e,t){return void 0===t&&(t={}),_$meta_17.segmentReduce(e,function(e,r){var u=r.geometry.coordinates;return e+distance_1.default(u[0],u[1],t)},0)}_$length_14.default=length;

var _$rhumbDistance_21 = {};
"use strict";Object.defineProperty(_$rhumbDistance_21,"__esModule",{value:!0});/* removed: var _$invariant_13=require("@turf/invariant"); */;function rhumbDistance(t,a,e){void 0===e&&(e={});var r=_$invariant_13.getCoord(t),h=_$invariant_13.getCoord(a);h[0]+=h[0]-r[0]>180?-360:r[0]-h[0]>180?360:0;var n=calculateRhumbDistance(r,h);return _$helpers_11.convertLength(n,"meters",e.units)}function calculateRhumbDistance(t,a,e){var r=e=void 0===e?_$helpers_11.earthRadius:Number(e),h=t[1]*Math.PI/180,n=a[1]*Math.PI/180,i=n-h,u=Math.abs(a[0]-t[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var s=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(h/2+Math.PI/4)),o=Math.abs(s)>1e-11?i/s:Math.cos(h);return Math.sqrt(i*i+o*o*u*u)*r}_$rhumbDistance_21.default=rhumbDistance;

var _$pointToLineDistance_18 = {};
"use strict";var ____importDefault_18=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_$pointToLineDistance_18,"__esModule",{value:!0});var __distance_1_18=____importDefault_18(_$distance_10),rhumb_distance_1=____importDefault_18(_$rhumbDistance_21);function pointToLineDistance(e,t,r){if(void 0===r&&(r={}),r.method||(r.method="geodesic"),r.units||(r.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=_$helpers_11.point(e):"Point"===e.type?e=_$helpers_11.feature(e):_$invariant_13.featureOf(e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=_$helpers_11.lineString(t):"LineString"===t.type?t=_$helpers_11.feature(t):_$invariant_13.featureOf(t,"LineString","line");var i=1/0,n=e.geometry.coordinates;return _$meta_17.segmentEach(t,function(e){var t=e.geometry.coordinates[0],a=e.geometry.coordinates[1],o=distanceToSegment(n,t,a,r);o<i&&(i=o)}),_$helpers_11.convertLength(i,"degrees",r.units)}function distanceToSegment(e,t,r,i){var n=[r[0]-t[0],r[1]-t[1]],a=dot([e[0]-t[0],e[1]-t[1]],n);if(a<=0)return calcDistance(e,t,{method:i.method,units:"degrees"});var o=dot(n,n);if(o<=a)return calcDistance(e,r,{method:i.method,units:"degrees"});var u=a/o;return calcDistance(e,[t[0]+u*n[0],t[1]+u*n[1]],{method:i.method,units:"degrees"})}function dot(e,t){return e[0]*t[0]+e[1]*t[1]}function calcDistance(e,t,r){return"planar"===r.method?rhumb_distance_1.default(e,t,r):__distance_1_18.default(e,t,r)}_$pointToLineDistance_18.default=pointToLineDistance;

var _$lineSegment_16 = {};
"use strict";Object.defineProperty(_$lineSegment_16,"__esModule",{value:!0});/* removed: var _$meta_17=require("@turf/meta"); */;function lineSegment(e){if(!e)throw new Error("geojson is required");var r=[];return _$meta_17.flattenEach(e,function(e){lineSegmentFeature(e,r)}),_$helpers_11.featureCollection(r)}function lineSegmentFeature(e,r){var t=[],n=e.geometry;if(null!==n){switch(n.type){case"Polygon":t=_$invariant_13.getCoords(n);break;case"LineString":t=[_$invariant_13.getCoords(n)]}t.forEach(function(t){createSegments(t,e.properties).forEach(function(e){e.id=r.length,r.push(e)})})}}function createSegments(e,r){var t=[];return e.reduce(function(e,n){var i=_$helpers_11.lineString([e,n],r);return i.bbox=__bbox_16(e,n),t.push(i),n}),t}function __bbox_16(e,r){var t=e[0],n=e[1],i=r[0],a=r[1];return[t<i?t:i,n<a?n:a,t>i?t:i,n>a?n:a]}_$lineSegment_16.default=lineSegment;

var _$quickselect_25 = { exports: {} };
!function(t,o){"object"==typeof _$quickselect_25.exports&&"undefined"!="object"?_$quickselect_25.exports=o():"function"==typeof define&&define.amd?define(o):t.quickselect=o()}(this,function(){"use strict";function t(t,o,e){var n=t[o];t[o]=t[e],t[e]=n}function o(t,o){return t<o?-1:t>o?1:0}return function(e,n,f,r,i){!function o(e,n,f,r,i){for(;r>f;){if(r-f>600){var u=r-f+1,a=n-f+1,c=Math.log(u),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(u-h)/u)*(a-u/2<0?-1:1),l=Math.max(f,Math.floor(n-a*h/u+d)),s=Math.min(r,Math.floor(n+(u-a)*h/u+d));o(e,n,l,s,i)}var M=e[n],p=f,m=r;for(t(e,f,n),i(e[r],M)>0&&t(e,f,r);p<m;){for(t(e,p,m),p++,m--;i(e[p],M)<0;)p++;for(;i(e[m],M)>0;)m--}0===i(e[f],M)?t(e,f,m):t(e,++m,r),m<=n&&(f=m+1),n<=m&&(r=m-1)}}(e,n,f||0,r||e.length-1,i||o)}});

_$quickselect_25 = _$quickselect_25.exports
var _$rbush_26 = {};
"use strict";_$rbush_26=rbush,_$rbush_26.default=rbush;/* removed: var _$quickselect_25=require("quickselect"); */;function rbush(t,i){if(!(this instanceof rbush))return new rbush(t,i);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&this._initFormat(i),this.clear()}function findItem(t,i,n){if(!n)return i.indexOf(t);for(var e=0;e<i.length;e++)if(n(t,i[e]))return e;return-1}function calcBBox(t,i){distBBox(t,0,t.children.length,i,t)}function distBBox(t,i,n,e,r){r||(r=createNode(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a,h=i;h<n;h++)a=t.children[h],extend(r,t.leaf?e(a):a);return r}function extend(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function compareNodeMinX(t,i){return t.minX-i.minX}function compareNodeMinY(t,i){return t.minY-i.minY}function bboxArea(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function bboxMargin(t){return t.maxX-t.minX+(t.maxY-t.minY)}function enlargedArea(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function intersectionArea(t,i){var n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),r=Math.min(t.maxX,i.maxX),a=Math.min(t.maxY,i.maxY);return Math.max(0,r-n)*Math.max(0,a-e)}function contains(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function intersects(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function createNode(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function multiSelect(t,i,n,e,r){for(var a,h=[i,n];h.length;)(n=h.pop())-(i=h.pop())<=e||(a=i+Math.ceil((n-i)/e/2)*e,_$quickselect_25(t,a,i,n,r),h.push(i,a,a,n))}rbush.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],e=this.toBBox;if(!intersects(t,i))return n;for(var r,a,h,o,s=[];i;){for(r=0,a=i.children.length;r<a;r++)h=i.children[r],intersects(t,o=i.leaf?e(h):h)&&(i.leaf?n.push(h):contains(t,o)?this._all(h,n):s.push(h));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!intersects(t,i))return!1;for(var e,r,a,h,o=[];i;){for(e=0,r=i.children.length;e<r;e++)if(a=i.children[e],intersects(t,h=i.leaf?n(a):a)){if(i.leaf||contains(t,h))return!0;o.push(a)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var r=this.data;this.data=e,e=r}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=createNode([]),this},remove:function(t,i){if(!t)return this;for(var n,e,r,a,h=this.data,o=this.toBBox(t),s=[],c=[];h||s.length;){if(h||(h=s.pop(),e=s[s.length-1],n=c.pop(),a=!0),h.leaf&&-1!==(r=findItem(t,h.children,i)))return h.children.splice(r,1),s.push(h),this._condense(s),this;a||h.leaf||!contains(h,o)?e?(n++,h=e.children[n],a=!1):h=null:(s.push(h),c.push(n),n=0,e=h,h=h.children[0])}return this},toBBox:function(t){return t},compareMinX:compareNodeMinX,compareMinY:compareNodeMinY,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,e){var r,a=n-i+1,h=this._maxEntries;if(a<=h)return calcBBox(r=createNode(t.slice(i,n+1)),this.toBBox),r;e||(e=Math.ceil(Math.log(a)/Math.log(h)),h=Math.ceil(a/Math.pow(h,e-1))),(r=createNode([])).leaf=!1,r.height=e;var o,s,c,l,u=Math.ceil(a/h),m=u*Math.ceil(Math.sqrt(h));for(multiSelect(t,i,n,m,this.compareMinX),o=i;o<=n;o+=m)for(multiSelect(t,o,c=Math.min(o+m-1,n),u,this.compareMinY),s=o;s<=c;s+=u)l=Math.min(s+u-1,c),r.children.push(this._build(t,s,l,e-1));return calcBBox(r,this.toBBox),r},_chooseSubtree:function(t,i,n,e){for(var r,a,h,o,s,c,l,u;e.push(i),!i.leaf&&e.length-1!==n;){for(l=u=1/0,r=0,a=i.children.length;r<a;r++)s=bboxArea(h=i.children[r]),(c=enlargedArea(t,h)-s)<u?(u=c,l=s<l?s:l,o=h):c===u&&s<l&&(l=s,o=h);i=o||i.children[0]}return i},_insert:function(t,i,n){var e=this.toBBox,r=n?t:e(t),a=[],h=this._chooseSubtree(r,this.data,i,a);for(h.children.push(t),extend(h,r);i>=0&&a[i].children.length>this._maxEntries;)this._split(a,i),i--;this._adjustParentBBoxes(r,a,i)},_split:function(t,i){var n=t[i],e=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,e);var a=this._chooseSplitIndex(n,r,e),h=createNode(n.children.splice(a,n.children.length-a));h.height=n.height,h.leaf=n.leaf,calcBBox(n,this.toBBox),calcBBox(h,this.toBBox),i?t[i-1].children.push(h):this._splitRoot(n,h)},_splitRoot:function(t,i){this.data=createNode([t,i]),this.data.height=t.height+1,this.data.leaf=!1,calcBBox(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var e,r,a,h,o,s,c,l;for(s=c=1/0,e=i;e<=n-i;e++)h=intersectionArea(r=distBBox(t,0,e,this.toBBox),a=distBBox(t,e,n,this.toBBox)),o=bboxArea(r)+bboxArea(a),h<s?(s=h,l=e,c=o<c?o:c):h===s&&o<c&&(c=o,l=e);return l},_chooseSplitAxis:function(t,i,n){var e=t.leaf?this.compareMinX:compareNodeMinX,r=t.leaf?this.compareMinY:compareNodeMinY;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,r)&&t.children.sort(e)},_allDistMargin:function(t,i,n,e){t.children.sort(e);var r,a,h=this.toBBox,o=distBBox(t,0,i,h),s=distBBox(t,n-i,n,h),c=bboxMargin(o)+bboxMargin(s);for(r=i;r<n-i;r++)a=t.children[r],extend(o,t.leaf?h(a):a),c+=bboxMargin(o);for(r=n-i-1;r>=i;r--)a=t.children[r],extend(s,t.leaf?h(a):a),c+=bboxMargin(s);return c},_adjustParentBBoxes:function(t,i,n){for(var e=n;e>=0;e--)extend(i[e],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():calcBBox(t[n],this.toBBox)},_initFormat:function(t){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(t[0])),this.compareMinY=new Function("a","b",i.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};

var _$geojsonRbush_23 = {};
var turfBBox=_$bbox_3.default,__featureEach_23=_$meta_17.featureEach,__coordEach_23=_$meta_17.coordEach,__polygon_23=_$helpers_11.polygon,__featureCollection_23=_$helpers_11.featureCollection;function geojsonRbush(r){var e=_$rbush_26(r);return e.insert=function(r){if("Feature"!==r.type)throw new Error("invalid feature");return r.bbox=r.bbox?r.bbox:turfBBox(r),_$rbush_26.prototype.insert.call(this,r)},e.load=function(r){var e=[];return Array.isArray(r)?r.forEach(function(r){if("Feature"!==r.type)throw new Error("invalid features");r.bbox=r.bbox?r.bbox:turfBBox(r),e.push(r)}):__featureEach_23(r,function(r){if("Feature"!==r.type)throw new Error("invalid features");r.bbox=r.bbox?r.bbox:turfBBox(r),e.push(r)}),_$rbush_26.prototype.load.call(this,e)},e.remove=function(r,e){if("Feature"!==r.type)throw new Error("invalid feature");return r.bbox=r.bbox?r.bbox:turfBBox(r),_$rbush_26.prototype.remove.call(this,r,e)},e.clear=function(){return _$rbush_26.prototype.clear.call(this)},e.search=function(r){var e=_$rbush_26.prototype.search.call(this,this.toBBox(r));return __featureCollection_23(e)},e.collides=function(r){return _$rbush_26.prototype.collides.call(this,this.toBBox(r))},e.all=function(){var r=_$rbush_26.prototype.all.call(this);return __featureCollection_23(r)},e.toJSON=function(){return _$rbush_26.prototype.toJSON.call(this)},e.fromJSON=function(r){return _$rbush_26.prototype.fromJSON.call(this,r)},e.toBBox=function(r){var e;if(r.bbox)e=r.bbox;else if(Array.isArray(r)&&4===r.length)e=r;else if(Array.isArray(r)&&6===r.length)e=[r[0],r[1],r[3],r[4]];else if("Feature"===r.type)e=turfBBox(r);else{if("FeatureCollection"!==r.type)throw new Error("invalid geojson");e=turfBBox(r)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}_$geojsonRbush_23=geojsonRbush,_$geojsonRbush_23.default=geojsonRbush;

var _$lineIntersect_15 = {};
"use strict";var ____importDefault_15=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_$lineIntersect_15,"__esModule",{value:!0});var line_segment_1=____importDefault_15(_$lineSegment_16),geojson_rbush_1=____importDefault_15(_$geojsonRbush_23);function lineIntersect(e,t){var r={},n=[];if("LineString"===e.type&&(e=_$helpers_11.feature(e)),"LineString"===t.type&&(t=_$helpers_11.feature(t)),"Feature"===e.type&&"Feature"===t.type&&null!==e.geometry&&null!==t.geometry&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var i=__intersects_15(e,t);return i&&n.push(i),_$helpers_11.featureCollection(n)}var o=geojson_rbush_1.default();return o.load(line_segment_1.default(t)),_$meta_17.featureEach(line_segment_1.default(e),function(e){_$meta_17.featureEach(o.search(e),function(t){var i=__intersects_15(e,t);if(i){var o=_$invariant_13.getCoords(i).join(",");r[o]||(r[o]=!0,n.push(i))}})}),_$helpers_11.featureCollection(n)}function __intersects_15(e,t){var r=_$invariant_13.getCoords(e),n=_$invariant_13.getCoords(t);if(2!==r.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==n.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=r[0][0],o=r[0][1],a=r[1][0],u=r[1][1],s=n[0][0],l=n[0][1],_=n[1][0],f=n[1][1],c=(f-l)*(a-i)-(_-s)*(u-o),g=(_-s)*(o-l)-(f-l)*(i-s),h=(a-i)*(o-l)-(u-o)*(i-s);if(0===c)return null;var p=g/c,m=h/c;if(p>=0&&p<=1&&m>=0&&m<=1){var v=i+p*(a-i),d=o+p*(u-o);return _$helpers_11.point([v,d])}return null}_$lineIntersect_15.default=lineIntersect;

var _$polygonToLine_19 = {};
"use strict";Object.defineProperty(_$polygonToLine_19,"__esModule",{value:!0});/* removed: var _$invariant_13=require("@turf/invariant"); */;function default_1(e,o){void 0===o&&(o={});var r=_$invariant_13.getGeom(e);switch(o.properties||"Feature"!==e.type||(o.properties=e.properties),r.type){case"Polygon":return polygonToLine(r,o);case"MultiPolygon":return multiPolygonToLine(r,o);default:throw new Error("invalid poly")}}function polygonToLine(e,o){void 0===o&&(o={});var r=_$invariant_13.getGeom(e);r.type;return coordsToLine(r.coordinates,o.properties?o.properties:"Feature"===e.type?e.properties:{})}function multiPolygonToLine(e,o){void 0===o&&(o={});var r=_$invariant_13.getGeom(e),t=(r.type,r.coordinates),i=o.properties?o.properties:"Feature"===e.type?e.properties:{},n=[];return t.forEach(function(e){n.push(coordsToLine(e,i))}),_$helpers_11.featureCollection(n)}function coordsToLine(e,o){return e.length>1?_$helpers_11.multiLineString(e,o):_$helpers_11.lineString(e[0],o)}_$polygonToLine_19.default=default_1,_$polygonToLine_19.polygonToLine=polygonToLine,_$polygonToLine_19.multiPolygonToLine=multiPolygonToLine,_$polygonToLine_19.coordsToLine=coordsToLine;

var _$booleanDisjoint_4 = {};
"use strict";var ____importDefault_4=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_$booleanDisjoint_4,"__esModule",{value:!0});var __boolean_point_in_polygon_1_4=____importDefault_4(_$booleanPointInPolygon_6),line_intersect_1=____importDefault_4(_$lineIntersect_15),polygon_to_line_1=____importDefault_4(_$polygonToLine_19);function booleanDisjoint(n,e){var t=!0;return _$meta_17.flattenEach(n,function(n){_$meta_17.flattenEach(e,function(e){if(!1===t)return!1;t=disjoint(n.geometry,e.geometry)})}),t}function disjoint(n,e){switch(n.type){case"Point":switch(e.type){case"Point":return!__compareCoords_4(n.coordinates,e.coordinates);case"LineString":return!isPointOnLine(e,n);case"Polygon":return!__boolean_point_in_polygon_1_4.default(n,e)}break;case"LineString":switch(e.type){case"Point":return!isPointOnLine(n,e);case"LineString":return!__isLineOnLine_4(n,e);case"Polygon":return!__isLineInPoly_4(e,n)}break;case"Polygon":switch(e.type){case"Point":return!__boolean_point_in_polygon_1_4.default(e,n);case"LineString":return!__isLineInPoly_4(n,e);case"Polygon":return!__isPolyInPoly_4(e,n)}}return!1}function isPointOnLine(n,e){for(var t=0;t<n.coordinates.length-1;t++)if(__isPointOnLineSegment_4(n.coordinates[t],n.coordinates[t+1],e.coordinates))return!0;return!1}function __isLineOnLine_4(n,e){return line_intersect_1.default(n,e).features.length>0}function __isLineInPoly_4(n,e){for(var t=0,o=e.coordinates;t<o.length;t++){var i=o[t];if(__boolean_point_in_polygon_1_4.default(i,n))return!0}return line_intersect_1.default(e,polygon_to_line_1.default(n)).features.length>0}function __isPolyInPoly_4(n,e){for(var t=0,o=n.coordinates[0];t<o.length;t++){var i=o[t];if(__boolean_point_in_polygon_1_4.default(i,e))return!0}for(var r=0,a=e.coordinates[0];r<a.length;r++){var l=a[r];if(__boolean_point_in_polygon_1_4.default(l,n))return!0}return line_intersect_1.default(polygon_to_line_1.default(n),polygon_to_line_1.default(e)).features.length>0}function __isPointOnLineSegment_4(n,e,t){var o=t[0]-n[0],i=t[1]-n[1],r=e[0]-n[0],a=e[1]-n[1];return 0==o*a-i*r&&(Math.abs(r)>=Math.abs(a)?r>0?n[0]<=t[0]&&t[0]<=e[0]:e[0]<=t[0]&&t[0]<=n[0]:a>0?n[1]<=t[1]&&t[1]<=e[1]:e[1]<=t[1]&&t[1]<=n[1])}function __compareCoords_4(n,e){return n[0]===e[0]&&n[1]===e[1]}_$booleanDisjoint_4.default=booleanDisjoint;

var _$booleanIntersects_5 = {};
"use strict";var ____importDefault_5=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_$booleanIntersects_5,"__esModule",{value:!0});var boolean_disjoint_1=____importDefault_5(_$booleanDisjoint_4);function booleanIntersects(e,t){var o=!1;return _$meta_17.flattenEach(e,function(e){_$meta_17.flattenEach(t,function(t){if(!0===o)return!0;o=!boolean_disjoint_1.default(e.geometry,t.geometry)})}),o}_$booleanIntersects_5.default=booleanIntersects;

var _$rectangleGrid_20 = {};
"use strict";Object.defineProperty(_$rectangleGrid_20,"__esModule",{value:!0});/* removed: var _$helpers_11=require("@turf/helpers"); */;function rectangleGrid(e,r,t,s){void 0===s&&(s={});for(var a=[],o=e[0],l=e[1],i=e[2],n=e[3],u=r/_$distance_10.default([o,l],[i,l],s)*(i-o),f=t/_$distance_10.default([o,l],[o,n],s)*(n-l),c=i-o,d=n-l,p=Math.floor(c/u),_=Math.floor(d/f),h=(d-_*f)/2,v=o+(c-p*u)/2,b=0;b<p;b++){for(var g=l+h,q=0;q<_;q++){var M=_$helpers_11.polygon([[[v,g],[v,g+f],[v+u,g+f],[v+u,g],[v,g]]],s.properties);s.mask?_$booleanIntersects_5.default(s.mask,M)&&a.push(M):a.push(M),g+=f}v+=u}return _$helpers_11.featureCollection(a)}_$rectangleGrid_20.default=rectangleGrid;

var _$union_22 = {};
"use strict";Object.defineProperty(_$union_22,"__esModule",{value:!0});/* removed: var _$helpers_11=require("@turf/helpers"); */;function union(e,r,n){void 0===n&&(n={});var i=_$invariant_13.getGeom(e).coordinates,t=_$invariant_13.getGeom(r).coordinates,o=_$martinezUmd_24.union(i,t);return 0===o.length?null:1===o.length?_$helpers_11.polygon(o[0],n.properties):_$helpers_11.multiPolygon(o,n.properties)}_$union_22.default=union;

"use strict";const {point:__point_1,polygon:__polygon_1}=_$helpers_11;var _$turf_1={area:_$area_2.default,bbox:_$bbox_3.default,booleanWithin:_$booleanWithin_8.default,difference:_$difference_9,distance:_$distance_10.default,helpers:{point:__point_1,polygon:__polygon_1},intersect:_$intersect_12.default,length:_$length_14.default,pointToLineDistance:_$pointToLineDistance_18.default,union:_$union_22.default,rectangleGrid:_$rectangleGrid_20.default};

return _$turf_1;

});

